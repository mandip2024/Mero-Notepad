<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fancy Notepad</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: white;
        }

        #container {
            display: flex;
            width: 100vw;
            height: 100vh;
        }

        #left-panel {
            width: 30%;
            background-color: #f0f0f0;
            padding: 20px;
            border-right: 3px solid blue;
            display: flex;
            flex-direction: column;
        }

        #left-panel button,
        #left-panel input {
            margin-bottom: 10px;
            padding: 10px;
            font-size: 16px;
            background-color: white;
            border: 2px solid blue;
            cursor: pointer;
        }

        #left-panel button:hover,
        #left-panel input:focus {
            background-color: #e0e0e0;
        }

        #left-panel input {
            margin-bottom: 20px;
        }

        #right-panel {
            width: 70%;
            padding: 20px;
            position: relative;
        }

        #notepadText {
            width: 100%;
            height: 100%;
            font-size: 20px;
            font-family: Arial, sans-serif;
            border: none;
            outline: none;
            background-color: white;
            resize: none;
            line-height: 1.6;
            padding-left: 10px;
        }

        #noteTitle {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
            color: black;
            border-bottom: 2px solid blue;
            padding-bottom: 10px;
        }

        textarea:focus {
            outline: none;
        }

        #noteTitle::before {
            content: 'Untitled Note';
        }

        #notepadText p {
            border-left: 4px solid blue;
            padding-left: 10px;
        }

        #notesList {
            list-style: none;
            padding-left: 0;
            max-height: 400px;
            overflow-y: auto;
        }

        #notesList li {
            padding: 10px;
            background-color: #f5f5f5;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            cursor: pointer;
        }

        #notesList li:hover {
            background-color: #e0e0e0;
        }
    </style>
</head>
<body>
    <div id="container">
        <!-- Left Panel: 30% -->
        <div id="left-panel">
            <button id="newNote">New Notepad</button>
            <button id="deleteNote">Delete Notepad</button>
            <button id="deleteAllNotes">Delete All Notepads</button>
            <input type="text" id="searchNotes" placeholder="Search Notes">
            <ul id="notesList"></ul>
        </div>
        
        <!-- Right Panel: 70% -->
        <div id="right-panel">
            <textarea id="notepadText" placeholder="Start typing your note..." rows="30" cols="100"></textarea>
            <div id="noteTitle">Untitled</div>
        </div>
    </div>

    <script>
        // Select Elements
        const newNoteBtn = document.getElementById("newNote");
        const deleteNoteBtn = document.getElementById("deleteNote");
        const deleteAllNotesBtn = document.getElementById("deleteAllNotes");
        const searchNotesInput = document.getElementById("searchNotes");
        const notesList = document.getElementById("notesList");
        const notepadText = document.getElementById("notepadText");
        const noteTitle = document.getElementById("noteTitle");

        // Initialize Data
        let notes = JSON.parse(localStorage.getItem("notes")) || [];
        let currentNoteIndex = null;

        // Functions
        function renderNotesList() {
            notesList.innerHTML = "";
            notes.forEach((note, index) => {
                const li = document.createElement("li");
                li.textContent = note.title || "Untitled";
                li.onclick = () => loadNote(index);
                notesList.appendChild(li);
            });
        }

        function saveNote() {
            const title = noteTitle.textContent;
            const text = notepadText.value;
            
            if (currentNoteIndex !== null) {
                notes[currentNoteIndex] = { title, text };
            } else {
                notes.push({ title, text });
                currentNoteIndex = notes.length - 1;
            }

            localStorage.setItem("notes", JSON.stringify(notes));
            renderNotesList();
        }

        function loadNote(index) {
            currentNoteIndex = index;
            const note = notes[index];
            noteTitle.textContent = note.title;
            notepadText.value = note.text;
        }

        function createNewNote() {
            currentNoteIndex = null;
            noteTitle.textContent = "Untitled";
            notepadText.value = "";
        }

        function deleteNote() {
            if (currentNoteIndex !== null) {
                notes.splice(currentNoteIndex, 1);
                localStorage.setItem("notes", JSON.stringify(notes));
                currentNoteIndex = null;
                renderNotesList();
                notepadText.value = "";
                noteTitle.textContent = "Untitled";
            }
        }

        function deleteAllNotes() {
            notes = [];
            localStorage.setItem("notes", JSON.stringify(notes));
            renderNotesList();
            notepadText.value = "";
            noteTitle.textContent = "Untitled";
        }

        // Event Listeners
        newNoteBtn.addEventListener("click", createNewNote);
        deleteNoteBtn.addEventListener("click", deleteNote);
        deleteAllNotesBtn.addEventListener("click", deleteAllNotes);

        // Watch for changes in the notepad
        notepadText.addEventListener("input", () => {
            noteTitle.textContent = notepadText.value.split("\n")[0] || "Untitled";
            saveNote();
        });

        // Search Notes functionality
        searchNotesInput.addEventListener("input", () => {
            const searchTerm = searchNotesInput.value.toLowerCase();
            notesList.innerHTML = "";
            notes.forEach((note, index) => {
                if (note.title.toLowerCase().includes(searchTerm)) {
                    const li = document.createElement("li");
                    li.textContent = note.title || "Untitled";
                    li.onclick = () => loadNote(index);
                    notesList.appendChild(li);
                }
            });
        });

        // Initial Render
        renderNotesList();
    </script>
</body>
</html>
